<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.prime.com.tr/ui">

    <ui:composition template="/templates/templateNovedades.xhtml">
        <ui:define name="title">
            <h:outputText value=" "></h:outputText>
        </ui:define>
        <ui:define name="bodyNovedades">
            <h:panelGroup id="messagePanel" layout="block">
                <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
            </h:panelGroup>
            <h:form>

                <h2>Confirmaci&oacute;n de Compra</h2>
                <p:accordionPanel >
                    <p:tab title="Lista de Pedidos Resientes">

                        <h:dataTable var="item" value="#{pedidoController.listPedidosByCliente}" headerClass="ui-state-focus">




                        <h:column>

                            <f:facet name="header" >
                                <h:outputLabel value="Descripci&oacute;n"  />
                            </f:facet>
                            <table border="0">
                                <tr style="width:60px;">
                                    <td colspan="4" class="ui-state-highlight">
                                        <h:outputText value="#{pedidoController.contador}"/></td>

                                    <td>

                                        <h:outputText value="#{item.articulo.titulo}" styleClass="textoNEGRO" /><br/>
                                        <h:outputText value="#{item.articulo.asunto}" /><br/>
                                        <h:outputText value="#{item.articulo.nombreAlternativo}" /><br/>
                               <!-- <h:outputText value="{item.editorial}" /><br/>-->


                                    </td>
                                </tr>
                            </table>
                         </h:column>
                         <h:column  >
                            <f:facet name="header">
                                <h:outputLabel value="Cantidad"  />
                            </f:facet>
                             <h:outputText value="#{item.noArticuloCategoria}" />
                         </h:column>
                         <h:column>
                            <f:facet name="header">
                               <h:outputLabel value="Precio" />
                            </f:facet>
                             <h:outputText value="$ #{item.precioNeto}" />
                         </h:column>
                         <h:column>
                            <f:facet name="header">
                              <h:outputLabel value="Descuento" />
                            </f:facet>
                             <h:outputText value="% #{item.descuento}" />
                         </h:column>
                         <h:column>
                            <f:facet name="header">
                              <h:outputLabel value="Impuesto" />
                            </f:facet>
                             <h:outputText value="% #{item.impuesto}" />
                         </h:column>
                        

                         <h:column>
                            <f:facet name="header">
                                <h:outputLabel value="Total" />
                            </f:facet>

                             <h:outputText value="$ #{item.precioTotal}" >

                            </h:outputText>
                         </h:column>

                            <h:column>
                            <f:facet name="header">
                                <h:outputLabel value="Borrar" />
                            </f:facet>
                         
                                <h:commandLink action="#{pedidoController.eliminarPedido(item)}" >
                                    <img src="./../resources/iconos/quitar.png" alt="" title="Quitar"/>
                                </h:commandLink>
                           
                         </h:column>


                    </h:dataTable>
                    <div align="right">
                    <table>
          <tr>
          <td valign="top">&nbsp;</td>
          <td>&nbsp;</td>
          <td align="center">&nbsp;</td>
          <td>&nbsp;</td>
          <td class="ui-state-active">Total</td>
          <td><h:outputLabel value="$ #{pedidoController.montoTotal}"  /></td>
          <td>&nbsp;</td>
        </tr>
                    </table>
                    </div>


                    </p:tab>

                    <!--<p:tab title="Modificar Tipo Envio">

                        <center>
                        <h:panelGrid columns="6">
                        <h:outputLabel value="Pedido:" styleClass="textoNEGRO"/>

                        <h:selectOneMenu value="{pedidoController.mycurrent}" style="width:100px;">
                            <f:selectItems value="{pedidoController.listPedidosByCliente}" var="item"  itemValue="#{item}" itemLabel="#{item.articulo.titulo}"/>
                        </h:selectOneMenu>
                        &nbsp;
                        <h:outputLabel value="Tipo Envio:" styleClass="textoNEGRO"/>
                        <h:selectOneMenu value="{pedidoController.tipoEnvio}">
                        <f:selectItem   id="item_0"  itemValue="ELECTRONICO" itemLabel="ELECTRONICO"/>
                        <f:selectItem   id="item_1" itemValue="FISICO" itemLabel="FISICO"/>
                        </h:selectOneMenu>
                        <h:commandButton value="Editar" action="{pedidoController.updateConfig}"/>
                        </h:panelGrid>
                        </center>
                       
                   <br/><br/>
                   <p:dataTable value="{pedidoController.listPedidosByCliente}" var="item" paginator="true" rows="10" selectionMode="single">

                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="CANTIDAD"/>
                        </f:facet>
                        <h:outputText value="{item.noArticuloCategoria}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="CATEGORIA"/>
                        </f:facet>
                        <h:outputText value="{item.categoria}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="PRECIO NETO"/>
                        </f:facet>
                        <h:outputText value="{item.precioNeto}"/>
                    </p:column>
                   <p:column>
                        <f:facet name="header">
                            <h:outputText value="IMPUESTO"/>
                        </f:facet>
                        <h:outputText value="{item.impuesto}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="DESCUENTO"/>
                        </f:facet>
                        <h:outputText value="{item.descuento}"/>
                    </p:column>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="PRECIO TOTAL"/>
                        </f:facet>
                        <h:outputText value="{item.precioTotal}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="TIPO ENVIO"/>
                        </f:facet>

                        <h:outputLabel value="{item.tipoEnvio}"/>
                        
                    </p:column>
                    <p:column style="width:16px;">
                        <f:facet name="header">
                            <h:outputText value="ARTICULO"/>
                        </f:facet>
                        <h:outputText value="{item.articulo.titulo}"/>
                    </p:column>
                 
                </p:dataTable>
                
                    </p:tab>-->

                </p:accordionPanel>
                <br/><br/>
               
               <!--<p:panel  header="REQUIERE FACTURA" >
                    <center>
                <h:panelGrid columns="2" cellspacing="15">


                  
                    <h:outputLabel value="Requiere factura:" styleClass="textoROJO"/>
                    <h:selectOneMenu value="{compraController.facturar}">
                        <f:selectItem id="item_value_0" itemValue="0" itemLabel="NO"/>
                        <f:selectItem id="item_value_1" itemValue="1" itemLabel="SI"/>
                    </h:selectOneMenu>

                </h:panelGrid>
                    </center>
                     </p:panel>
-->
                <br /><br />
                <div align="center">
                    <p:panel>
                    <h:commandButton action="#{compraController.create}" value="Confirmar" />
                    <h:commandButton action="#{compraController.borrar}" value="Cancelar" />
                    </p:panel>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>

</html>
