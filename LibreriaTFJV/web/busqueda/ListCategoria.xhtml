<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.prime.com.tr/ui">

    <ui:composition template="/templates/templateNovedades.xhtml">
        <ui:define name="title">
            <h:outputText value=" "></h:outputText>
        </ui:define>
        <ui:define name="bodyNovedades">
            <h:form styleClass="jsfcrud_list_form"  id="formulario" >
            <h:panelGroup id="messagePanel" layout="block">
                <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
            </h:panelGroup>


        <f:metadata>
            <f:viewParam id="idBanderaCategoria" name="banderaCategoria" value="#{publicacionController.banderaCategoria}"  />
                 <f:event listener="#{publicacionController.init}"  type="preRenderView"/>

            </f:metadata>

            <h2>Categoria #{publicacionController.categoria}</h2>
                <p>&nbsp;</p>
            <br/>
            <br/>
           
         

            <p:accordionPanel autoHeight="false" id="acordion" >
                <p:tab title="PUBLICACIONES" rendered="#{publicacionController.tipoArticuloMostrar>=1}">
                    <h:panelGroup id="control" >
                    
                   <p:dataGrid value="#{publicacionController.listLibroByCategoria}" var="item"  rows="10" paginator="true"  columns="1"  >



                    <p:column>

                        <table width="99%" border="0">
  <tr>
    <td width="13%" rowspan="8" scope="col">
        <img src="#{item.articulo.imagen}" width="83" height="122" id="imagen"/></td>
      <td width="79%" class="Titulo_articulo" scope="col">
          <h:outputText value="#{item.articulo.titulo}" /></td>

  </tr>
  <tr>
      <td><p><strong>Autor:</strong> <h:outputText value="#{item.articulo.creador}"/></p></td>
  </tr>
  <tr>
      <td><p><strong>Editorial:</strong><h:outputText value="#{item.editorial}"/></p></td>

  </tr>
  <tr>
      <td><strong>Precio:$</strong><h:outputText value="#{item.articulo.precioUnitario}"/></td>
  </tr>
 <tr>
     <td><strong>Descuento:% </strong>
         <h:outputText value="0" rendered="#{item.articulo.descuentoArticulo.descuento==null}"/>
         <h:outputText value="#{item.articulo.descuentoArticulo.descuento}"/>

     </td>
  </tr>
  <tr>
      <td><strong>Existencia: </strong>
          <h:outputText value="0" rendered="#{item.articulo.almacen==null}" />
          <h:outputText value="#{item.articulo.almacen.existencia}"/></td>
  </tr>
  <tr>

    <td align="left">


        <h:commandLink action="#{carritoController.agregarArticulo(item.articulo)}" title="Agregar Carrito Compra">
           <img src="./../resources/iconos/carritoCompra.png" alt="" title="Carrito de Compra"/>
         </h:commandLink>



        <h:commandLink  action="#{publicacionController.prepareView(item,1)}" immediate="true" >
            <img src="./../resources/iconos/Comentarios.png" alt="" title="Detalles Publicaci&oacute;n"/>
        </h:commandLink>

           <h:commandLink  action="#{publicacionController.prepareView(item,1)}" immediate="true" >
               <img src="./../resources/iconos/informacion.png" alt="" title="Detalle Publicaci&oacute;n"/>
           </h:commandLink>




        <h:commandLink  action="#{publicacionController.buscarLibroRelacionados(item)}" immediate="true" >
            <img src="./../resources/iconos/relacionados.png" alt="" title="Busqueda relacionada"/>
        </h:commandLink>

    </td>
  </tr>
  <tr></tr>
  <tr></tr>

</table>
                    </p:column>
                   </p:dataGrid>
            </h:panelGroup>
                    </p:tab>

                
                <p:tab title="ACCESORIOS" rendered="#{publicacionController.tipoArticuloMostrar>=3}">
               <h:panelGroup >
                   <p:dataGrid value="#{publicacionController.listPublicacionAccesorio}" var="item"  rows="5" paginator="true"  columns="1"  >
                    <p:column>

                        <table width="99%" border="0">
  <tr>
    <td width="13%" rowspan="8" scope="col">
        <img alt=""  src="#{item.articulo.imagen}" width="83" height="122" id="imagen"/></td>
      <td width="79%" class="Titulo_articulo" scope="col">
          <h:outputText value="#{item.articulo.titulo}" /></td>

  </tr>
  <tr>
      <td><p><strong>Autor:</strong> <h:outputText value="#{item.articulo.creador}"/></p></td>
  </tr>
  <tr>
      <td><p><strong>Editorial:</strong><h:outputText value="#{item.editorial}"/></p></td>

  </tr>
  <tr>
      <td><strong>Precio:$</strong><h:outputText value="#{item.articulo.precioUnitario}"/></td>
  </tr>
 <tr>
     <td><strong>Descuento:% </strong>
         <h:outputText value="0" rendered="#{item.articulo.descuentoArticulo.descuento==null}"/>
         <h:outputText value="#{item.articulo.descuentoArticulo.descuento}"/>

     </td>
  </tr>
  <tr>
      <td><strong>Existencia: </strong>
          <h:outputText value="0" rendered="#{item.articulo.almacen==null}" />
          <h:outputText value="#{item.articulo.almacen.existencia}"/></td>
  </tr>
  <tr>

    <td align="left">


        <h:commandLink action="#{carritoController.agregarArticulo(item.articulo)}" title="Agregar Carrito Compra">
           <img src="./../resources/iconos/carritoCompra.png" alt="" title="Carrito de Compra"/>
         </h:commandLink>



        <h:commandLink  action="#{publicacionController.prepareView(item,1)}" immediate="true" >
            <img src="./../resources/iconos/Comentarios.png" alt="" title="Detalles Publicaci&oacute;n"/>
        </h:commandLink>

           <h:commandLink  action="#{publicacionController.prepareView(item,1)}" immediate="true" >
               <img src="./../resources/iconos/informacion.png" alt="" title="Detalle Publicaci&oacute;n"/>
           </h:commandLink>




        <h:commandLink  action="#{publicacionController.buscarLibroRelacionados(item)}" immediate="true" >
            <img src="./../resources/iconos/relacionados.png" alt="" title="Busqueda relacionada"/>
        </h:commandLink>

    </td>
  </tr>
  <tr></tr>
  <tr></tr>

</table>
                    </p:column>
                   </p:dataGrid>
            </h:panelGroup>
                    </p:tab>



                </p:accordionPanel>
          
           
           
        </h:form>
        </ui:define>
    </ui:composition>

</html>
